---
# Source: uyuni-suite/charts/mariadb/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: mariadb
  namespace: "release-4"
  labels:
    app.kubernetes.io/name: mariadb
    helm.sh/chart: mariadb-11.4.5
    app.kubernetes.io/instance: uyuni-suite
    app.kubernetes.io/managed-by: Helm
  annotations:
automountServiceAccountToken: false
---
# Source: uyuni-suite/charts/mariadb/templates/secrets.yaml
apiVersion: v1
kind: Secret
metadata:
  name: mariadb
  namespace: "release-4"
  labels:
    app.kubernetes.io/name: mariadb
    helm.sh/chart: mariadb-11.4.5
    app.kubernetes.io/instance: uyuni-suite
    app.kubernetes.io/managed-by: Helm
type: Opaque
data:
  mariadb-root-password: "cm9vdA=="
  mariadb-password: "dXl1bmlQYXNzd29yZDMj"
---
# Source: uyuni-suite/templates/kube-config-secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: kube-config
type: Opaque
data:
  config: |-
      YXBpVmVyc2lvbjogdjEKY2x1c3RlcnM6Ci0gY2x1c3RlcjoKICAgIGNlcnRpZmljYXRlLWF1dGhvcml0eS1kYXRhOiBMUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VNdmFrTkRRV1ZoWjBGM1NVSkJaMGxDUVVSQlRrSm5hM0ZvYTJsSE9YY3dRa0ZSYzBaQlJFRldUVkpOZDBWUldVUldVVkZFUlhkd2NtUlhTbXdLWTIwMWJHUkhWbnBOUWpSWVJGUkplazFVU1hkTmFrRXpUV3BWTVU5V2IxaEVWRTE2VFZSRmVVOVVRVE5OYWxVeFQxWnZkMFpVUlZSTlFrVkhRVEZWUlFwQmVFMUxZVE5XYVZwWVNuVmFXRkpzWTNwRFEwRlRTWGRFVVZsS1MyOWFTV2gyWTA1QlVVVkNRbEZCUkdkblJWQkJSRU5EUVZGdlEyZG5SVUpCVG05Q0NuTkZiMkZDUmt0RU1taDNOMnd2ZUZOQmRUUk5RMUpxVTNGUldGRm1UalpPU0ZOTksyVlJaamRhTjJSQ2FqZE9ha2wwV1dOVWREazJjMWQwVlcxb0syc0tWMHhqZVVvd1Z6Uk9WM1pHTlN0elYwNU5UamhoTjFWWVJGZHdRV3hoTTBoRFJraERVMHQ1YkZnM1JVTktiVEZTVDFjdlJXWjZibFJZTUdaalF6TlJOQXB3VnpJMlRIYzBhRzV0VDBJdmVIWTBWVmhLZEVWQmFVSnZhbGQyZW5WeGJVOUVlR1JFV0hsblpXUm9XSHAzTWtoR01IZEROVlJFUWpsRmFYSnVhRmxSQ21sV1dEUmtXQzl1T0ZoQ1REVnBlREZUYzNoWGMwb3hlblJyYm5aa1dsZE1hM04yVkVkVllqQldOVGcyYVd4TFpUaENla1J6Y0daRVZHbDVRbTlUU0hnS1pUVTJjbVZrVnpOSmNteEpZVFZUUlVkVVRrMDBhRE41VVVsNFExSmlPRW8zUm1OcWJFOUZNVTUxVG1kaFFuaFdVVTVUU0ZGYVVtZFhXVkpYVVRKUlR3cFpXVzVQU25jMVlubG9ZbWsxVUZFd1F6UXdRMEYzUlVGQllVNWFUVVpqZDBSbldVUldVakJRUVZGSUwwSkJVVVJCWjB0clRVRTRSMEV4VldSRmQwVkNDaTkzVVVaTlFVMUNRV1k0ZDBoUldVUldVakJQUWtKWlJVWkVOVm8xTlZrM2FVaElaVU5oUTJsekszZ3paVkpYZVZkMFdHRk5RbFZIUVRGVlpFVlJVVThLVFVGNVEwTnRkREZaYlZaNVltMVdNRnBZVFhkRVVWbEtTMjlhU1doMlkwNUJVVVZNUWxGQlJHZG5SVUpCU3pZMGNHY3JMMGxuUWk5MFEzbzJUbVJpT1FwYVdGbEJTVlpITVdwd0wzUndUbGc1ZUV4YUx6WTFMM3BJTUZWRmFXeEtXWHBaUmxjeFdHazRaek5hU1d0RVVIaE1RbmhJUnpaWE9WZGpSMnhVUjBscENuSnpSM1E1ZERZMFdGZFZPUzlyYVVwcGMxSmphMmxaZDIxWlFWTkdRUzlsY0dWUmNIUnZSVnB2VlVob1YwbFpPVGhuVFVveldGcGhjbGwxWVhwalFrb0tRMFoySzNnelMwMXFjRXRxWmpWTlprbzFiV3hRUVZGcWNYaGtTbVF3UzFaSVZUVmxOMFpIUWtSbU9EbFBaek5vT0hWNU9HVndRbFI2YzNoelQyOHpSd3AyZFV4SWNXeFhWMEphVVdGRFpEQndlV1ZpYzI1VVNHVkpOMnBKTVdoRmR5OUlOak5QZEVsYWFVZEJVVzl4UjBwb1kwODFZVmhXWml0SllqaDJPWEZMQ25GTVFtdzFXbTVUTXl0clkxUkRhbHB4YzNjeFVFWlRlREl2Ukc5d1JFOVRRazE2YjFaRmRrMVdUR1kxUkd4M1JuTnFOemRMZVZCV1EwSnJURVk1TlRBS1RTODRQUW90TFMwdExVVk9SQ0JEUlZKVVNVWkpRMEZVUlMwdExTMHRDZz09CiAgICBzZXJ2ZXI6IGh0dHBzOi8vMTAuNjEuMy4xNTY6NjQ0MwogIG5hbWU6IGNsdXN0ZXIubG9jYWwKLSBjbHVzdGVyOgogICAgY2VydGlmaWNhdGUtYXV0aG9yaXR5LWRhdGE6IExTMHRMUzFDUlVkSlRpQkRSVkpVU1VaSlEwRlVSUzB0TFMwdENrMUpTVVJDVkVORFFXVXlaMEYzU1VKQlowbEpXRlp0VmpoTloxUnNiRGgzUkZGWlNrdHZXa2xvZG1OT1FWRkZURUpSUVhkR1ZFVlVUVUpGUjBFeFZVVUtRWGhOUzJFelZtbGFXRXAxV2xoU2JHTjZRV1ZHZHpCNVRYcEZlVTFVVFhkUFZFRXhUa1JLWVVaM01IcE5la1Y1VFZSQmQwOVVSWGRPUkVwaFRVSlZlQXBGZWtGU1FtZE9Wa0pCVFZSRGJYUXhXVzFXZVdKdFZqQmFXRTEzWjJkRmFVMUJNRWREVTNGSFUwbGlNMFJSUlVKQlVWVkJRVFJKUWtSM1FYZG5aMFZMQ2tGdlNVSkJVVVJSVEdOYU5ITjFOazUxYURKSmNrSm5XbWN6SzJKRU5qUnBNVGhCZWt0ek9VRklObTRyY1hVeGRFTlJjalozTjFwbVNWcHljM3BRT0RJS2IzaFVORGxVU1c1T2JETmlhRzh6UVdveVVIZFlibmM1UzNaSmJrVXhWVkF6T1c5MVExZDBUMUZJUkZKWVkxSmFNSGxOV1VKeGNrRmtLM2xwVEhkMkt3cFlNbWcyY0VoMkszWkhja0ZqWVV3d05YUm5TVXRtV1UxbmFETkVlVkJKTTFKa1UxTnJUa0YwVTA5SVNYUkpRVTVOUjFOSWJ6UjFlWGxOWVhwMEt5OUdDbEZzVG5oUVFubExNM04wUlVoME9XbHBVRFpQUVRneVZFZGtXV0kwZUZsVWR6WXpkVUpTTlZjNVVqQjJVSFF2Y2tsT1VYRnhRbWRpZVVodkswbFhiVVVLTkdkc04wSkxSQzl6T0UxMEswczJkalpTZVVoeVdVRnFNV2g2YUVaSU1HOHJRV1JHZDFCYVVWUndXR1ZaWTJ0UEwxUXhiR0pCVXpSd1JIcFZTMmhOTXdvcmJWYzJNbHBHVm1GS09FdHpVSGQxU2tsaE5tVkNkVTFDVG5nM1FXZE5Ra0ZCUjJwWFZFSllUVUUwUjBFeFZXUkVkMFZDTDNkUlJVRjNTVU53UkVGUUNrSm5UbFpJVWsxQ1FXWTRSVUpVUVVSQlVVZ3ZUVUl3UjBFeFZXUkVaMUZYUWtKVGVDdEdUVXhaV2tSd1NtTmpRVlp6TWtOTWJ5OXhjR055WXpacVFWWUtRbWRPVmtoU1JVVkVha0ZOWjJkd2NtUlhTbXhqYlRWc1pFZFdlazFCTUVkRFUzRkhVMGxpTTBSUlJVSkRkMVZCUVRSSlFrRlJRbEowWmpKVlJHVTFaQXBVTjJRck5EQkJkbU5XV2s5aVNraDNNR1JvUW14WmFtdHhXbEZKTVV4dGFFNTJRakpNTWtkc1prbFpPVlZXYzBkd1NGTmtjRnBZTjNRNFFsSnNaMlZuQ25wMWFWQjJPVEpuSzI1WU4xWnpaVGhuZVZaRGJ5OHdVRTAxVjJwRmVVMVphUzlZWWs4ME1VSTFia0ZTZFVzcloxRk1hVzR6ZGpnclVDdEdiWEpUUVdzS1JGRkJSakpzZEZKcVRuVjVPVVZ6VDFwVWNWZEhTa1puUVVOVU4wNVpOMEp6VDFsaVJ6QXdXRGc1TkRCU2RsWk5WVFZWU0d4VFZtVlZSazVhVG5aRGVncDFSRTg0UkVoQ1dHMVRibXBoUWxGMmFrWjFPRW96YnprMFUzTkVSVGR3YVdWNE0yTnhVME5CVDBJeVNscHdhV05STkhvcmJFbFdjamsxV2twU1ozZ3dDbTlUTmpGbU5tUXdaa0kyY2s4MGJHVldhMU5TTVVWUmFuSTNZM1pxVVdScFlUbEhXVlZ4Y0hSREx6ZDBaSGM0TTNweVJYRk1WM0EzY1ZSc1YxSnRkVmdLU0dGeFVraEplbXRIUlZScUNpMHRMUzB0UlU1RUlFTkZVbFJKUmtsRFFWUkZMUzB0TFMwSwogICAgc2VydmVyOiBodHRwczovLzEwLjYxLjMuMTI6NjQ0MwogIG5hbWU6IHV5dW5pCmNvbnRleHRzOgotIGNvbnRleHQ6CiAgICBjbHVzdGVyOiBjbHVzdGVyLmxvY2FsCiAgICB1c2VyOiBrdWJlcm5ldGVzLWFkbWluCiAgbmFtZToga3ViZXJuZXRlcy1hZG1pbkBjbHVzdGVyLmxvY2FsCi0gY29udGV4dDoKICAgIGNsdXN0ZXI6IHV5dW5pCiAgICB1c2VyOiB1eXVuaS1hZG1pbgogIG5hbWU6IGt1YmVybmV0ZXMtdXl1bmktYWRtaW5AdXl1bmkKY3VycmVudC1jb250ZXh0OiBrdWJlcm5ldGVzLWFkbWluQGNsdXN0ZXIubG9jYWwKa2luZDogQ29uZmlnCnByZWZlcmVuY2VzOiB7fQp1c2VyczoKLSBuYW1lOiBrdWJlcm5ldGVzLWFkbWluCiAgdXNlcjoKICAgIGNsaWVudC1jZXJ0aWZpY2F0ZS1kYXRhOiBMUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VSSlZFTkRRV2R0WjBGM1NVSkJaMGxKVDJ4TlkzaEpZazlhU0dkM1JGRlpTa3R2V2tsb2RtTk9RVkZGVEVKUlFYZEdWRVZVVFVKRlIwRXhWVVVLUVhoTlMyRXpWbWxhV0VwMVdsaFNiR042UVdWR2R6QjVUWHBGZVUxRVNYZE9la2t4VGxSc1lVWjNNSGxPUkVWNVRVUkZkMDU2U1RKTlJFSmhUVVJSZUFwR2VrRldRbWRPVmtKQmIxUkViazQxWXpOU2JHSlVjSFJaV0U0d1dsaEtlazFTYTNkR2QxbEVWbEZSUkVWNFFuSmtWMHBzWTIwMWJHUkhWbnBNVjBackNtSlhiSFZOU1VsQ1NXcEJUa0puYTNGb2EybEhPWGN3UWtGUlJVWkJRVTlEUVZFNFFVMUpTVUpEWjB0RFFWRkZRWFpVYVVSNVJtaDBNRlIzWkZOclVHa0tVVVJVWTFGMlRrOVpkMHR2VVhSQ2RVRlphVlkzWkM5UlkzSkdPRGhHVlhSdGRqWk1ZMmRuUWxCMk5XUndOV2hWWlhsV1JHOUZNM0UyUmk5eVRtUjBUd3BCY25ObmNua3hTR0pyVTBkc2VWWkNSMVZ2V1ZKaFpGbDFVME5wY1VZME0zaEVhbll2ZERGT1NXWTNWM0E0WkdFNWRpOVpiRkpqVmxoeFkzZDVWMlpRQ2tWS1pucEllWEJTVWsxSk1EbHplVTU1Y2tWM2EzVXZPVTlFUzFwNlVXWnBPVEJHZDFNM1JXWkdiVlZ5ZFM5S1ozQmhVVVF3UlN0S2RtczJOU3RNY2pRS2NtTm5NMEp4WTJkamFIaGxRMDR2U0c5UWQxZEdiVTVFTHprM1FVRlZWV2xyV0ZCQ2NXOUVWbTFHV0VoaU5YVXdjMUF3VWxRd2FuVlVaRUY1Vms5amVncHFjV0ZGTDJKT1ozTTJZMjFIUTNweU1DOTNRV280VjIxeEx6aEVkR0YzT0RjNGNqQTRaRlJJWnpJelNuRTRWSFpDY21reWNtWlVWVFkzV1c1dFFsaHZDa0ZxV2xBNFVVbEVRVkZCUW04eFdYZFdSRUZQUW1kT1ZraFJPRUpCWmpoRlFrRk5RMEpoUVhkRmQxbEVWbEl3YkVKQmQzZERaMWxKUzNkWlFrSlJWVWdLUVhkSmQwUkJXVVJXVWpCVVFWRklMMEpCU1hkQlJFRm1RbWRPVmtoVFRVVkhSRUZYWjBKUksxZGxaVmRQTkdoNE0yZHRaMjl5VUhOa00ydFdjMnh5VmdveWFrRk9RbWRyY1docmFVYzVkekJDUVZGelJrRkJUME5CVVVWQmNEUjNjalV6VGtGb2NVaHFORlZNYTFGbFoySkJSV1UzZWxaaWVUYzViVzFTV1U5bENqRjFVelEzY0VWWEswOXphR2ROUzNsSFpDdHNlbVFyVlZaVUwyUmxOWGt5U0RSUk1rWjJlVko1ZURad1dqSnVUVnBUU1dOb1FtZERiWFV2YXpnM1QzTUtSMUk1WlVSdk1tNVhjVmhaVmxkSlVGWlFVazFDTmsxT1UwMHJaVko1Um5wNGNrUXZXVmg2VHpCRGN6UTFMek5QV1ZoTmMwczNaR2N3TkNzeVJuZzVTQXBVSzBWWVRtZElaRXhsVmxSSFIyMDRWRzR2UW5OaWRVWnRXWGw0Tm1GTmRVVkdaVVp5UTFwbU9FZFdNRFIyY3psaWFFOUhlbmhUV0cxWFoxRTFPRTFaQ21ZMWFrVjRiV2MwVlhsd1dXc3lNbTlvVEZZNFRHdE5UWFJFYUVReFUxb3JNMFZHWWtOU0wzbHZkVXh1ZFdrMWFITnlSMEUzV0hKMksyTkJZbmRRV0hZS2QyZEJTaTk1VUM5WldtTnVTV1JFTkhOTFZUSk9hMmRVVldsUVQxVlhkbVZJYWpoUGNISmlWa2g1UlZnMVYzWlJiSGM5UFFvdExTMHRMVVZPUkNCRFJWSlVTVVpKUTBGVVJTMHRMUzB0Q2c9PQogICAgY2xpZW50LWtleS1kYXRhOiBMUzB0TFMxQ1JVZEpUaUJTVTBFZ1VGSkpWa0ZVUlNCTFJWa3RMUzB0TFFwTlNVbEZjRUZKUWtGQlMwTkJVVVZCZGxScFJIbEdhSFF3Vkhka1UydFFhVkZFVkdOUmRrNVBXWGRMYjFGMFFuVkJXV2xXTjJRdlVXTnlSamc0UmxWMENtMTJOa3hqWjJkQ1VIWTFaSEExYUZWbGVWWkViMFV6Y1RaR0wzSk9aSFJQUVhKelozSjVNVWhpYTFOSGJIbFdRa2RWYjFsU1lXUlpkVk5EYVhGR05ETUtlRVJxZGk5ME1VNUpaamRYY0Roa1lUbDJMMWxzVW1OV1dIRmpkM2xYWmxCRlNtWjZTSGx3VWxKTlNUQTVjM2xPZVhKRmQydDFMemxQUkV0YWVsRm1hUW81TUVaM1V6ZEZaa1p0VlhKMUwwcG5jR0ZSUkRCRkswcDJhelkxSzB4eU5ISmpaek5DY1dOblkyaDRaVU5PTDBodlVIZFhSbTFPUkM4NU4wRkJWVlZwQ210WVVFSnhiMFJXYlVaWVNHSTFkVEJ6VURCU1ZEQnFkVlJrUVhsV1QyTjZhbkZoUlM5aVRtZHpObU50UjBONmNqQXZkMEZxT0ZkdGNTODRSSFJoZHpnS056aHlNRGhrVkVobk1qTktjVGhVZGtKeWFUSnlabFJWTmpkWmJtMUNXRzlCYWxwUU9GRkpSRUZSUVVKQmIwbENRVUpWYm00eGQycDJjM1JaZGtSSFZRcFhNVkYzVmt4MlRHUmxWVTQwTHk5elV6VkJlVlpCYWxCTUx5OVRjR2hST0dkaFprWmpOVTlvU0ROeFMyUTNRVWxGVGtobWRtRnlUR0V3Y214b2JXUXdDa05GYlRNMFFsTldja1p1UVc5WlpDdGhPRkJJUXl0WGJIRjJOblpxYkM5cFoweDFXVmhuVTFKbE1VVnJjVFV3UVZwalVXUnZTRzk1Y0ZodU5tMVVTemNLVURKUmMybE5jbWROVlhaT2NIQjNPVVJHUlhZNVF6RktWbGhqVm5nNE5pOTBaVVowUmtkSlRUZGpURkZpZGtob0swYzFSek5UWjNOT1VrZHBPRkp0U1Fwb1NUTnBZa3hpS3podmNFdFNVakpQYTJWelJIZHFLMU5UYVhoVVpGaEZabVoxY0dvNWFITXdWUzl4U1ZwRk9HTnRORmd4WTJVdk5qaHlhWEJDVVdadUNsUk9Ua1ZtVUZCaGVXeFJjV2xOUlVOUVYwTktPRXh4YlhwWFNYWkhSREJXT1VKbWMzcFpUazVrWVdGd1owdHJRbXBCVlcxWE0zTlZOVXhFVWtZM1luTUtPVlpUVWtWbk1FTm5XVVZCZVN0TEswcFVWMGhuVTBkc1RtRldNa1p5WTFORE4xbHliREoxSzFoV1JuZHZhemRhUVZSR1RGZGliM1IxUjA5bk5XYzFPQXBOVlVSMGFTOVhSa2R3Ym5wSU1uVTNVRnB5Um05V1ZEUnJSMmh5YzBveUswdHpUbU5OVm1SMFRqRkdiVFZsWmpCNE9WcEZiaXM1UW1KWVdIaFhOVEJPQ2xsTVFuaHpOVGhsYVUxRGMyZ3daMEo2Y1hsTE9YaEdaVTEwZVd0d1lWVjBTRzh5ZFhBMFMzWkxLMVY0ZG1sME1uZGhiVFZvVVhORFoxbEZRVGRhV1hJS2VqWXdRMDkyUm0xTGNWZFZiMlo2Y0hkVFNUWkZOWGhxU20xMlVuRmplRWQxYjBSVFMydHdTVGRWTlM5YWVFeFRhM0ZoTTBoTlNFaG1jblV4YWt0WUx3cFRabTlpZVVsaGExTlJRV0YzT1hNM1dtWXljWEZXWm1kR04xbHZWVzlJTkVKVlNYTkJjalJ3TldsUWRVRjBSM0pCWmtOdlZuTlhlRzlsUzJvdlFUUnBDbXhMUmxsV1JEUXdlWEZ1VWpkNVZWZGtLME5sS3pkdk4wRjNSVlJCSzNwVVVsTXlLMHBJVFVObldVVkJkV0UwWkVwNmRuZ3hVM1F3UkRCQ1MwcElVRVFLWW05RlVXZEJNWGw0THk5VlUxTjZkblZ2VGxCTlZEZzJVbXBSVG04MVlreHBablZ6YlhkelZteHNNV2RMYkhoMGIweFJhMmxyU1dSUlZEWnVNMHRuT0FwUFUzWkVLMWhsTm10dFpVUkJOWGhWY3lzMGVXWXdiR2N4TjFKVVFTOUZjVGR6VTJsUFJXbFJaMVpEWm1velEwaHVUbHBOYkV0bWRteDJhVlY0Wm5GQkNqbGtUbTl1VlhWTFFuSnljbkV4Y0dkQ1FURjZWa2hOUTJkWlJVRnNLMHhsU2xWclkxZFBVa1ZvVmxWUWJsUk9ZbTFQTW5od1UwaG5VRkZ5UjI5aUswZ0tTU3R2UVRoaGNFWjZkbVpWSzA5alQyMVdVbVJWWkZGTlNHeG5VVXN4WkdaNWEwcE1hWEp0VVhjeE5TdDJaVVZyY1hkSmRFaFZLMmhaYldSQmFHVmhlUW93VjBoS1ZYZFBVazAyUTJGdk1VTTBLekpsU0hCMGJVSjNkRlp4VFd4UmVrSlZVRlZtVWpZM2FubG9ZbTV1TDJWVGEzSmxUMFl5U2twc1YwVmxOR3B0Q2xVMU5UTndWVTFEWjFsQmJHSjFOM2w0WmtJelltZHZRVWRFT0ZKYWVXSm9XRmczTWxSeWFGa3ZWVmRzTUc1T1RIZEpZMFJ4Y21NMVNWcHVkMVJRTXpVS2EwbE5RMEpqUnpkTVRtMTBNa1pRWlhVdldtaElRbmhQTUdsM09FWmtWamhCY1hsTGNuTnpSVFJUTkZWcFMwbHVUVWN6VlRkUVRIbzRha0pDWlU5R1pRcG5UR1Y1TjFCYVowaDNVMlpOUVZad1JYY3JNRE00TkdWdFMwNU5PRkkxT1RaRkt6UmFPRUZpUkVaVVZtWTJTek5SUmtocGFuYzlQUW90TFMwdExVVk9SQ0JTVTBFZ1VGSkpWa0ZVUlNCTFJWa3RMUzB0TFFvPQotIG5hbWU6IHV5dW5pLWFkbWluCiAgdXNlcjoKICAgIGNsaWVudC1jZXJ0aWZpY2F0ZS1kYXRhOiBMUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VSSlZFTkRRV2R0WjBGM1NVSkJaMGxKUm1ZdldFRXlhVVZVVVVGM1JGRlpTa3R2V2tsb2RtTk9RVkZGVEVKUlFYZEdWRVZVVFVKRlIwRXhWVVVLUVhoTlMyRXpWbWxhV0VwMVdsaFNiR042UVdWR2R6QjVUWHBGZVUxVVRYZFBWRUV4VGtSS1lVWjNNSGxPUkVWNVRWUkpkMDlVUlhkT1JFNWhUVVJSZUFwR2VrRldRbWRPVmtKQmIxUkViazQxWXpOU2JHSlVjSFJaV0U0d1dsaEtlazFTYTNkR2QxbEVWbEZSUkVWNFFuSmtWMHBzWTIwMWJHUkhWbnBNVjBackNtSlhiSFZOU1VsQ1NXcEJUa0puYTNGb2EybEhPWGN3UWtGUlJVWkJRVTlEUVZFNFFVMUpTVUpEWjB0RFFWRkZRWGR0ZEN0MFpuaHVXbXROWWpaRVRXb0tWWGxpY2t4c2IyTkRaVGRzYVRGMmFGTjJhVGxvVTFWWGVWQjBVamRwWkZaV1JHMU9NVVZTVkhVMVdWQlRRV0YwTm5jNWRERjJMMFk1V0hSR1dIcG5aQXBNUkRsamJDdHJlRUZvWXk5RGRrb3ZVbVZvWlZka1FUZzVORFZVU21GTk1uWkpRbWhxWTNGSFlrdE9iVGhoU0VkUk1rNVhjMlIzYVZKeVVGSlpUMlYwQ2todVVYaFRUMHBXZUhGM1JUY3Jhamx4VkRGalFUUmlPWEZoVFRGU09YUjFORU01ZWpKa1FUZE1NRFptYzIxelQwWm1TVEF6YjNBMWIyVjBVU3RUV0RBS05UQmlVREZHV0dScmFqZFZZVkpYY1U1VU4zRldiR0ZWU2pGb1UxQnBVa1Z5UXpaVFlsTnpSbUp4YTNFelUxSldWMUkyTVhOa1RXRlJaRmRvYm5abWNncHJVbXRRVGxOd1dIaGtTM1JFT1RoQ04wdENNVTFsZW1GUmVuUlllVk4yTHpkNU5GbFNaM05LZW1GSVNEbDVhREZLT1hBMWIwWm9hMmQ2VW1SWk1FbFJDbWxTTTJveVVVbEVRVkZCUW04eFdYZFdSRUZQUW1kT1ZraFJPRUpCWmpoRlFrRk5RMEpoUVhkRmQxbEVWbEl3YkVKQmQzZERaMWxKUzNkWlFrSlJWVWdLUVhkSmQwUkJXVVJXVWpCVVFWRklMMEpCU1hkQlJFRm1RbWRPVmtoVFRVVkhSRUZYWjBKVGVDdEdUVXhaV2tSd1NtTmpRVlp6TWtOTWJ5OXhjR055WXdvMmFrRk9RbWRyY1docmFVYzVkekJDUVZGelJrRkJUME5CVVVWQlFYcDFaV1I0ZEVWS2NDODJNbEZOVkdNclUzUm1MM2w1WlVjNU5IUjRSekpTYm5wc0NucFBNa00wVTFWemFVaFlXR2RCU2tnMU5HcEVVa0kwYkc5blVHbFRNRzVWTmprNE0yazNPVVZtVDBselVUQnBWVEJ2VFVaWGRIUkZNMUF3ZEVaV2NuWUtOMGhTVFd4emMyaGlTVEZOUTBScFpHcFVRWHB0TVhvM2QxVXJNRXRNVFhSaWFuQndTa2g1VG1kbmNHMTRRV1poY0RGNVkwWjBkMGwwWWtWWVpsUkxlUXBzUkhaS09GbHljVzRyT0d0SFMydE5WemMxYlZCV01WTXZNMnQzWkZCb1dFSjJSRVIwY3pkT1ZIUnZlSHBhVFc1U1luVkdWRlZQTUVaYWNuaEhhRTE1Q25rMlowWXZWM2RLYUZGWmFsbDNRa1Z5YWtVek9VbFlaMGxPWkRKTU1IWXdOMkYzU25CbGEyaEhNaXRNYUZwdVNVSnRSRkZ0U1ZSNFYwZDRjMW8xTkU4S1VEVndlamQ1Y21RME0yZEZiRWxXVlVjNU1FVkdabUpLTldwVVFXcE5OSE5JY0RJeWRVUnVla2RhYkVKWVVGQjJZVUU5UFFvdExTMHRMVVZPUkNCRFJWSlVTVVpKUTBGVVJTMHRMUzB0Q2c9PQogICAgY2xpZW50LWtleS1kYXRhOiBMUzB0TFMxQ1JVZEpUaUJTVTBFZ1VGSkpWa0ZVUlNCTFJWa3RMUzB0TFFwTlNVbEZiMmRKUWtGQlMwTkJVVVZCZDIxMEszUm1lRzVhYTAxaU5rUk5hbFY1WW5KTWJHOWpRMlUzYkdreGRtaFRkbWs1YUZOVlYzbFFkRkkzYVdSV0NsWkViVTR4UlZKVWRUVlpVRk5CWVhRMmR6bDBNWFl2UmpsWWRFWlllbWRrVEVRNVkyd3JhM2hCYUdNdlEzWktMMUpsYUdWWFpFRTRPVFExVkVwaFRUSUtka2xDYUdwamNVZGlTMDV0T0dGSVIxRXlUbGR6WkhkcFVuSlFVbGxQWlhSSWJsRjRVMDlLVm5oeGQwVTNLMm81Y1ZReFkwRTBZamx4WVUweFVqbDBkUW8wUXpsNk1tUkJOMHd3Tm1aemJYTlBSbVpKTUROdmNEVnZaWFJSSzFOWU1EVXdZbEF4Umxoa2EybzNWV0ZTVjNGT1ZEZHhWbXhoVlVveGFGTlFhVkpGQ25KRE5sTmlVM05HWW5GcmNUTlRVbFpYVWpZeGMyUk5ZVkZrVjJodWRtWnlhMUpyVUU1VGNGaDRaRXQwUkRrNFFqZExRakZOWlhwaFVYcDBXSGxUZGk4S04zazBXVkpuYzBwNllVaElPWGxvTVVvNWNEVnZSbWhyWjNwU1pGa3dTVkZwVWpOcU1sRkpSRUZSUVVKQmIwbENRVWhCWlZWaGNHUmljblUwWnpoV05ncHBRM0ZTZWxKeGFpdElkRFVyTkVwTlkwUlpkVVZCTVZOblJIUlVVVGhLVm1sSk0xUjVkMnBaYUc1cmRGcHZObWN5TTJOMFNrdHFVMUUzVkROaEswRnVDbTFvZEVWU2RpdE5RMU5yZEdkeWRYSmpUalE1ZWxCME5tSlZOVTlGTkVWdVEwa3ZXV05YYlRGdE5sQlhOelo2TVVsRlRVbGlTbmxTVjBkeWVHeENUMUVLVWpOUVEybG9SMEZDVUhSWWFFWnNaVkZpY0hodGFtbHRhRzAxYlc5T1JHVnZjVTlKUkM4emFVOXpVRzlMUzB0WGJUTnNTSE5TWkROSFZrNXRVMGxRU3dwVVJYZG9aVVYxVUdaaVFsQllOa3B4SzA5cGJrc3daelJJVlRkM1dpdDNhM2wyTUdVMVZVYzVjMWxRUWpZM1VFNVFZWFJPVUd4VmRrOHhhazVFYlc1bUNsSndXbXMyYUZsRlFreGtTbVpUUmxSS2Iya3ZVRFJaZWpkQ1NHRTFOVlpYWkVnelRtY3JWRmhKU2taM1RrbG9OVkl2ZWtoTVVsa3ZkM1pNYUcxRGNYY0tiRllyYW05aFJVTm5XVVZCTURsdGMxbHpNbWhHWkZBdldreE5hVmhQVVM5SFlXdDRRakF3ZUhZeldrbGxaeTlaY1ZjMksxcGxNRFJVWnpoeU1ESnRSd3BaVVhKNVpTdEphVE5FYlVWdlYzRXdPVWhsVmtWMFRYVk9XRWN6WmtOMWJETkVMMmszUXk5MGJYUnRabTQ1UzNnMk4xWlBjRzl3VDNkb1RXUmljbVJ6Q25aa2JtUnJNMVkzT0dkRWNHcHRSVzVoYkUxSllXRTRURzQzVm1SVU9HOU1aV2RMUkZBNVZqQkZOalZwYlhoU1NYQjJVRXBVV0RCRFoxbEZRVFoxTDIwS2RGaGlkbWRPTTBVeU5XUnNaRE1yYXpWNlEyMHdORzlQYkVKWlRHSkpUVUZwVlZWWmJFVjRaVkJXYldNMGQzZEpWV2RQV1VOa1VqaFRlWEJwWW14SVFncDRSbWd4Y1dWelpGcG1hbFZZY2pFeWJYaEplVkkwT1RoMVNITmlVV0oyYzJ4a1pFdzBRalpvWldWa2VVUXpOVFJ2YXpkTFVDdFNkbXd5U21ScFZFUTFDbmh0VVhsclZEWlBTRGRSYlVsNmMzUktlbUphWVdnMU5IcEVUbU5pZHpnMk0zbG9SVGR2TUVObldVSlZkSGRQTDFWMGEzRnZSMkpPWm5aRGNqQnlORVVLTldWd2MwMUJkRWh6SzFsU2IxbHhWRmh0ZVZjeE9FTm1VRzFRV2tjMllWZzBZMlpNYTBWaksxb3lXRXBKY1VkUU4wMHpXa0pGWmtSTFYwVnNUREZOV1FvcmVHTnJUMXB2TjFKUVJWY3JVM05oZUZweVdUaEJMMFZtWkRWVlMzUmpOa3RCWmpVNGJ6UkpNMU5MU1ZKQlRqa3JaM2QzVEhOYWIweENPVkJUT0RGQ0NrVm5XVzlJV2xKWlZtNURjRGhRWlVsbk5EUndRbEZMUW1kRVYwUnFOMjFzTjJOblkzVTRjVXBKWTA5dFpqVnNjSEUxV21wNlFUVlFUbmx5ZDJKQ04xa0tZbXhFV2xaR05FWkhOR1JqU210clNVdEpiVlZ5VUhONVNFWnRhM0JqTldwc0syMXpaRWhZVm5sQmIwMW1aMlV3YWxZNVptWTNiRVl3Vml0WWRuSjNhUW96YkZkbGNFbHNkaTl5YzI5M04wY3dORXg2VFNzNU5IWjFZalpYVDFVM1NGa3ZNVkpyYlRSSFUzVnRZbWRTTVRsclQyaHlTMGhxWVN0cFRWTkNVV0oyQ2pGVlVFSkJiMGRCU0VaTE1YUmtTVE0zUW5OeGVIbzJhbUpSWkVncmFteHZhV3cxYld4Qk1qSjZORVpEVlVKbVdIQjBMekpsVmxkb1dreGFZMjVUTTBZS1YzbG5iWFozTkZaVmMyTkhXWEJoY0ZScU16TlBVV2xIUlRoU1ZrSnRaMkpOTkU5QkswUjNXa05TVlcxSFFubDVZVlkxVnpKR1JuZG5OeXRKYUZjd053cG9WRW94VTA4eFNFdDRjR3BXUTJOSGMxUm1TamQyYUhwb2NrNWxXa1pUZEd4aGQyaE1UbEpQUjJ4RmFHaG5LMjl4T1hNOUNpMHRMUzB0UlU1RUlGSlRRU0JRVWtsV1FWUkZJRXRGV1MwdExTMHRDZz09Cg==
---
# Source: uyuni-suite/charts/mariadb/templates/primary/configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: mariadb
  namespace: "release-4"
  labels:
    app.kubernetes.io/name: mariadb
    helm.sh/chart: mariadb-11.4.5
    app.kubernetes.io/instance: uyuni-suite
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: primary
data:
  my.cnf: |-
    [mysqld]
    skip-name-resolve
    explicit_defaults_for_timestamp
    basedir=/opt/bitnami/mariadb
    plugin_dir=/opt/bitnami/mariadb/plugin
    port=3306
    socket=/opt/bitnami/mariadb/tmp/mysql.sock
    tmpdir=/opt/bitnami/mariadb/tmp
    max_allowed_packet=16M
    bind-address=*
    pid-file=/opt/bitnami/mariadb/tmp/mysqld.pid
    log-error=/opt/bitnami/mariadb/logs/mysqld.log
    character-set-server=UTF8
    collation-server=utf8_general_ci
    slow_query_log=0
    slow_query_log_file=/opt/bitnami/mariadb/logs/mysqld.log
    long_query_time=10.0
    interactive_timeout=1803
    wait_timeout=1803
    
    [client]
    port=3306
    socket=/opt/bitnami/mariadb/tmp/mysql.sock
    default-character-set=UTF8
    plugin_dir=/opt/bitnami/mariadb/plugin
    
    [manager]
    port=3306
    socket=/opt/bitnami/mariadb/tmp/mysql.sock
    pid-file=/opt/bitnami/mariadb/tmp/mysqld.pid
---
# Source: uyuni-suite/templates/frontend-config.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: uyuni-suite-frontend-config
data:
  nginx.conf: |-
    upstream uyuni-manager-core {
        server uyuni-suite-core:8080;
    }

    upstream uyuni-manager-noti {
        server uyuni-suite-noti:8080;
    }

    upstream uyuni-manager-batch {
        server uyuni-suite-batch:8080;
    }

    server {        
        listen 80;
        
        location / {
            root    /app/build;
            index   index.html;
            try_files $uri $uri/ /index.html;
            client_max_body_size 0;
        }

        location /api/v1/monitor {
            proxy_pass  http://uyuni-manager-core/api/v1/monitor;
        }

        location /api/v1/manager {
            proxy_pass  http://uyuni-manager-core/api/v1/manager;
            proxy_read_timeout 21600;
            client_max_body_size 0;
        }

        location /api/v1/noti {
            proxy_pass  http://uyuni-manager-noti/api/v1/noti;
        }

        location /manager/ws {
            proxy_pass  http://uyuni-manager-core/manager/ws;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        location /docs {
            proxy_pass  http://uyuni-manager-core/docs;
        }
    }
---
# Source: uyuni-suite/templates/mig-config.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: mig-config
data:
  migProfile.json: |-
    {
      "migProfiles": [
        {
          "migProduct": "A100_40GB",
          "migInfos": [
            {
              "migProfile": "1g.5gb",
              "count": 7
            },
            {
              "migProfile": "2g.10gb",
              "count": 3
            },
            {
              "migProfile": "3g.20gb",
              "count": 2
            },
            {
              "migProfile": "4g.20gb",
              "count": 1
            },
            {
              "migProfile": "7g.40gb",
              "count": 1
            }
          ]
        },
        {
          "migProduct": "A100_80GB",
          "migInfos": [
            {
              "migProfile": "1g.10gb",
              "count": 7
            },
            {
              "migProfile": "2g.20gb",
              "count": 3
            },
            {
              "migProfile": "3g.40gb",
              "count": 2
            },
            {
              "migProfile": "4g.40gb",
              "count": 1
            },
            {
              "migProfile": "7g.80gb",
              "count": 1
            }
          ]
        },
        {
          "migProduct": "H100",
          "migInfos": [
            {
              "migProfile": "1g.10gb",
              "count": 7
            },
            {
              "migProfile": "2g.20gb",
              "count": 3
            },
            {
              "migProfile": "3g.40gb",
              "count": 2
            },
            {
              "migProfile": "4g.40gb",
              "count": 1
            },
            {
              "migProfile": "7g.80gb",
              "count": 1
            }
          ]
        },
        {
          "migProduct": "A30",
          "migInfos": [
            {
              "migProfile": "1g.6gb",
              "count": 4
            },
            {
              "migProfile": "2g.12gb",
              "count": 2
            },
            {
              "migProfile": "4g.24gb",
              "count": 1
            }
          ]
        }
      ]
    }
---
# Source: uyuni-suite/templates/pvc-core.yaml
kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  name: "uyuni-pvc"
  annotations:
    helm.sh/resource-policy: keep
  labels:
    helm.sh/chart: uyuni-suite-0.1.0
    app.kubernetes.io/name: uyuni-suite
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 5Gi
---
# Source: uyuni-suite/templates/role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: uyuni-role
rules:
  - apiGroups: ["*"]
    resources: ["jobs", "statefulsets", "services", "daemonsets", "pods", "configmaps", "configmaps", "nodes", "ingresses"]
    verbs: ["*"]
---
# Source: uyuni-suite/templates/role-binding.yaml
kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: uyuni-role-binding
subjects:
  - kind: ServiceAccount
    name: default
roleRef:
  kind: Role
  name: uyuni-role
  apiGroup: rbac.authorization.k8s.io
---
# Source: uyuni-suite/charts/mariadb/templates/primary/svc.yaml
apiVersion: v1
kind: Service
metadata:
  name: mariadb
  namespace: "release-4"
  labels:
    app.kubernetes.io/name: mariadb
    helm.sh/chart: mariadb-11.4.5
    app.kubernetes.io/instance: uyuni-suite
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: primary
  annotations:
spec:
  type: ClusterIP
  sessionAffinity: None
  ports:
    - name: mysql
      port: 3306
      protocol: TCP
      targetPort: mysql
      nodePort: null
  selector: 
    app.kubernetes.io/name: mariadb
    app.kubernetes.io/instance: uyuni-suite
    app.kubernetes.io/component: primary
---
# Source: uyuni-suite/templates/service-batch.yaml
apiVersion: v1
kind: Service
metadata:
  name: "uyuni-suite-batch"
  labels:
    helm.sh/chart: uyuni-suite-0.1.0
    app.kubernetes.io/name: uyuni-suite
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 8080
      targetPort: 8080
      protocol: TCP
      name: tomcat
  selector:
    app: uyuni-suite-batch
---
# Source: uyuni-suite/templates/service-core.yaml
apiVersion: v1
kind: Service
metadata:
  name: "uyuni-suite-core"
  labels:
    helm.sh/chart: uyuni-suite-0.1.0
    app.kubernetes.io/name: uyuni-suite
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 8080
      targetPort: 8080
      protocol: TCP
      name: tomcat
  selector:
    app: uyuni-manager-core
---
# Source: uyuni-suite/templates/service-frontend.yaml
apiVersion: v1
kind: Service
metadata:
  name: "uyuni-suite-frontend"
  labels:
    helm.sh/chart: uyuni-suite-0.1.0
    app.kubernetes.io/name: uyuni-suite
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  type: NodePort
  ports:
    - port: 80
      targetPort: http
      protocol: TCP
      name: http
      nodePort: 30004
  selector:
    app: uyuni-suite-frontend
---
# Source: uyuni-suite/templates/service-noti.yaml
apiVersion: v1
kind: Service
metadata:
  name: "uyuni-suite-noti"
  labels:
    helm.sh/chart: uyuni-suite-0.1.0
    app.kubernetes.io/name: uyuni-suite
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 8080
      targetPort: 8080
      protocol: TCP
      name: tomcat
  selector:
    app: uyuni-suite-noti
---
# Source: uyuni-suite/templates/deployment-batch.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: "uyuni-suite-batch"
  labels:
    helm.sh/chart: uyuni-suite-0.1.0
    app.kubernetes.io/name: uyuni-suite
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app: uyuni-suite-batch
  template:
    metadata:
      labels:
        app: uyuni-suite-batch
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: uyuni-suite
          securityContext:
            {}
          image: "xiilab/uyuni-manager-batch:0.4.14-stag"
          imagePullPolicy: IfNotPresent
          env:
            - name: SPRING_PROFILES_ACTIVE
              value: dev
            - name: K8S_NAMESPACE
              value: "release-4"
            - name: KEYCLOAK_REALM
              value: uyuni
            - name: KEYCLOAK_AUTHSERVERURL
              value: "http://10.61.3.8:30001"
            - name: KEYCLOAK_RESOURCE
              value: uyuni
            - name: ADMIN_PASSWORD
              value: "xiirocks"
          ports:
            - name: tomcat
              containerPort: 8080
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /actuator/health/liveness
              port: 8080
            initialDelaySeconds: 60
            periodSeconds: 15
          readinessProbe:
            httpGet:
              path: /actuator/health/readiness
              port: 8080
            initialDelaySeconds: 60
            periodSeconds: 10
          resources:
            {}
---
# Source: uyuni-suite/templates/deployment-core.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: uyuni-manager-core
  labels:
    helm.sh/chart: uyuni-suite-0.1.0
    app.kubernetes.io/name: uyuni-suite
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app: uyuni-manager-core
  template:
    metadata:
      labels:
        app: uyuni-manager-core
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: uyuni-suite
          securityContext:
            {}
          image: "xiilab/uyuni-manager-core:0.4.14-stag"
          imagePullPolicy: IfNotPresent
          env:
            - name: mig-profile-path
              value: /root/migProfile/migProfile.json
            - name: SPRING_PROFILES_ACTIVE
              value: dev
            - name: KEYCLOAK_REALM
              value: uyuni
            - name: KEYCLOAK_AUTHSERVERURL
              value: "http://10.61.3.8:30001"
            - name: KEYCLOAK_RESOURCE
              value: uyuni
            - name: ADMIN_PASSWORD
              value: "xiirocks"
            - name: K8S_NAMESPACE
              value: "release-4"
            - name: UYUNIHOST
              value: "uyuni-suite.xiilab.com"
            - name: ADMIN_INIT-PASSWORD
              value: uyuni
            - name: KEYCLOAK_SSL-REQUIRED
              value: none
          ports:
            - name: tomcat
              containerPort: 8080
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /actuator/health/liveness
              port: 8080
            initialDelaySeconds: 60
            periodSeconds: 15
          readinessProbe:
            httpGet:
              path: /actuator/health/readiness
              port: 8080
            initialDelaySeconds: 60
            periodSeconds: 10
          resources:
            {}
          volumeMounts:
            - mountPath: "/root/.kube"
              name: kube-config
              readOnly: true
            - mountPath: "/root/uyuni"
              name: uyuni-pvc
            - mountPath: "/root/migProfile"
              name: mig-profile
      volumes:
        - name: mig-profile
          configMap:
            name: mig-config
        - name: kube-config
          secret:
            secretName: kube-config
        - name: uyuni-pvc
          persistentVolumeClaim:
            claimName: "uyuni-pvc"
---
# Source: uyuni-suite/templates/deployment-frontend.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: "uyuni-suite-frontend"
  labels:
    helm.sh/chart: uyuni-suite-0.1.0
    app.kubernetes.io/name: uyuni-suite
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app: uyuni-suite-frontend
  template:
    metadata:
      labels:
        app: uyuni-suite-frontend
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: uyuni-suite
          securityContext:
            {}
          image: "xiilab/uyuni-suite-frontend:0.4.11-stag"
          imagePullPolicy: IfNotPresent
          env:
            - name: REACT_APP_KEYCLOAK_REALM
              value: uyuni
            - name: REACT_APP_KEYCLOAK_CLIENT_ID
              value: uyuni
            - name: REACT_APP_KEYCLOAK_URL
              value: "http://10.61.3.8:30001"
          ports:
            - name: http
              containerPort: 80
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /
              port: http
          readinessProbe:
            httpGet:
              path: /
              port: http
          resources:
            {}
          volumeMounts:
            - name: nginx-config
              mountPath: /etc/nginx/conf.d
      volumes:
        - name: nginx-config
          configMap:
            name: uyuni-suite-frontend-config
---
# Source: uyuni-suite/templates/deployment-noti.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: "uyuni-suite-noti"
  labels:
    helm.sh/chart: uyuni-suite-0.1.0
    app.kubernetes.io/name: uyuni-suite
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app: uyuni-suite-noti
  template:
    metadata:
      labels:
        app: uyuni-suite-noti
    spec:
      serviceAccountName: default
      securityContext:
        {}
      containers:
        - name: uyuni-suite
          securityContext:
            {}
          image: "xiilab/uyuni-manager-noti:0.4.14-stag"
          imagePullPolicy: IfNotPresent
          env:
            - name: SPRING_PROFILES_ACTIVE
              value: dev
            - name: SPRING_KAFKA_CONSUMER_BOOTSTRAP-SERVERS
              value: kafka-cp-kafka.kafka.svc:9092
            - name: SPRING_KAFKA_PRODUCER_BOOTSTRAP-SERVERS
              value: kafka-cp-kafka.kafka.svc:9092
          ports:
            - name: tomcat
              containerPort: 8080
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /actuator/health/liveness
              port: 8080
            initialDelaySeconds: 60
            periodSeconds: 15
          readinessProbe:
            httpGet:
              path: /actuator/health/readiness
              port: 8080
            initialDelaySeconds: 60
            periodSeconds: 10
          resources:
            {}
---
# Source: uyuni-suite/charts/mariadb/templates/primary/statefulset.yaml
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: mariadb
  namespace: "release-4"
  labels:
    app.kubernetes.io/name: mariadb
    helm.sh/chart: mariadb-11.4.5
    app.kubernetes.io/instance: uyuni-suite
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: primary
spec:
  replicas: 1
  revisionHistoryLimit: 10
  selector:
    matchLabels: 
      app.kubernetes.io/name: mariadb
      app.kubernetes.io/instance: uyuni-suite
      app.kubernetes.io/component: primary
  serviceName: mariadb
  updateStrategy:
    type: RollingUpdate
  template:
    metadata:
      annotations:
        checksum/configuration: 5ff2c6662a93f590ede6b5fc3b07b0e0538fcea29d9ef5c09438e0117bc203aa
      labels:
        app.kubernetes.io/name: mariadb
        helm.sh/chart: mariadb-11.4.5
        app.kubernetes.io/instance: uyuni-suite
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/component: primary
    spec:
      
      serviceAccountName: mariadb
      affinity:
        podAffinity:
          
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
            - podAffinityTerm:
                labelSelector:
                  matchLabels:
                    app.kubernetes.io/name: mariadb
                    app.kubernetes.io/instance: uyuni-suite
                    app.kubernetes.io/component: primary
                topologyKey: kubernetes.io/hostname
              weight: 1
        nodeAffinity:
          
      securityContext:
        fsGroup: 1001
      containers:
        - name: mariadb
          image: docker.io/bitnami/mariadb:10.6.10-debian-11-r6
          imagePullPolicy: "IfNotPresent"
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
            runAsNonRoot: true
            runAsUser: 1001
          env:
            - name: BITNAMI_DEBUG
              value: "false"
            - name: MARIADB_ROOT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: mariadb
                  key: mariadb-root-password
            - name: MARIADB_USER
              value: "uyuni"
            - name: MARIADB_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: mariadb
                  key: mariadb-password
            - name: MARIADB_DATABASE
              value: "uyuni"
          ports:
            - name: mysql
              containerPort: 3306
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 120
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
            exec:
              command:
                - /bin/bash
                - -ec
                - |
                  password_aux="${MARIADB_ROOT_PASSWORD:-}"
                  if [[ -f "${MARIADB_ROOT_PASSWORD_FILE:-}" ]]; then
                      password_aux=$(cat "$MARIADB_ROOT_PASSWORD_FILE")
                  fi
                  mysqladmin status -uroot -p"${password_aux}"
          readinessProbe:
            failureThreshold: 3
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
            exec:
              command:
                - /bin/bash
                - -ec
                - |
                  password_aux="${MARIADB_ROOT_PASSWORD:-}"
                  if [[ -f "${MARIADB_ROOT_PASSWORD_FILE:-}" ]]; then
                      password_aux=$(cat "$MARIADB_ROOT_PASSWORD_FILE")
                  fi
                  mysqladmin status -uroot -p"${password_aux}"
          resources: 
            limits: {}
            requests: {}
          volumeMounts:
            - name: data
              mountPath: /bitnami/mariadb
            - name: config
              mountPath: /opt/bitnami/mariadb/conf/my.cnf
              subPath: my.cnf
      volumes:
        - name: config
          configMap:
            name: mariadb
  volumeClaimTemplates:
    - metadata:
        name: data
        labels: 
          app.kubernetes.io/name: mariadb
          app.kubernetes.io/instance: uyuni-suite
          app.kubernetes.io/component: primary
      spec:
        accessModes:
          - "ReadWriteOnce"
        resources:
          requests:
            storage: "8Gi"

